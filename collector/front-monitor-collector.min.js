window.FrontMonitor=function(){function override(a){var b=window[a];window[a]=function(){try{var a=Array.prototype.slice.call(arguments);b(a)}catch(c){captureException(null,c)}}}function setWindowOnError(){window.onerror=function(a){captureException(arguments,a,!0)}}function captureException(a,b,c){var d;if(c)a[0],d={message:a[0],file:a[1],line:a[2],timestamp:(new Date).getTime()-Config.initialTime};else{if(Config.logErrorsToConsole&&window.console&&console.error&&console.error(b),a){var e=a[0].target,f=e.tagName,g=e.className;g&&(f+="."+g),e.id&&(f+="#"+e.id);var h=a[0].handleObj.selector,i=a[0].type}"string"==typeof b&&(b={message:b}),d={name:b.name||null,message:b.message||"Unknown error.",stack:b.stack||null,event_type:i||null,event_target:f||null,event_selector:h||null,timestamp:(new Date).getTime()-Config.initialTime}}Config.pageview?(d.pageview=Config.pageview,d.application=Config.application):(d.baseUrl=window.location.href,d.application=Config.application,d.cookies=document.cookie,!Config.uow&&window.X_UOW&&(d.uow=Config.uow=window.X_UOW),Config.custom_parameter&&(d.custom_parameter=Config.custom_parameter)),d.version=Config.version,trackedErrors.push(d),trackAndResetErrors()}function trackAndResetErrors(){for(;trackedErrors.length&&Config.ready;){var a=trackedErrors.shift();Config.pageview?a.pageview||(a.pageview=Config.pageview):Config.ready=!1,trackError(a)}}function trackError(a){var b="";for(var c in a)b+=c+"="+encodeURIComponent(a[c])+"&";var d=Config.serviceUrl+"?"+b.substring(0,b.length-1);try{if(window.XDomainRequest){var e=new XDomainRequest;e.open("GET",d),e.onload=function(){handleResponse(e.responseText)},e.send()}else{var f=new XMLHttpRequest;f.open("GET",d,!0),f.onreadystatechange=function(){4==f.readyState&&handleResponse(f.responseText)},f.send(null)}}catch(g){}}function handleResponse(data){if(!Config.pageview)try{var responseJson=eval("("+data+")");responseJson.pageview&&(Config.pageview=responseJson.pageview)}catch(e){}Config.ready||(Config.ready=!0,trackAndResetErrors())}function setCustomParameter(a){Config.custom_parameter="string"==typeof a?a:a.join(" | ")}function logXHRError(options){var _options={name:"AJAX Error",message:"",stack:"",xhr:{},textStatus:""};extend(_options,options);try{var errorRetrieved=eval("("+_options.xhr.responseText+")");_options.message=_options.message+" Problem: "+errorRetrieved.error}catch(e){_options.message=_options.message+" Problem: "+_options.textStatus}logError(_options)}function logError(a,b){if("string"==typeof a)captureException(null,{name:"Custom Error",message:a,stack:b});else{var c={name:"Custom Error",message:"",stack:""};extend(c,a),captureException(null,c)}}function getConfig(){return Config}function extend(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]}var FrontMonitorVersion="{FRONT_MONITOR_VERSION}";if(window.FrontMonitorOptions&&FrontMonitorOptions.application&&FrontMonitorOptions.baseServiceUrl){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(){var a="onDomReady",b=!1,c=[];if(!window[a]||"function"!=typeof window[a]){var d=function(){if(!document.body)return setTimeout(d,13);for(var a=0;a<c.length;a++)c[a]();c=[]},e=function(){if(document.addEventListener){var a=function(){document.removeEventListener("DOMContentLoaded",a,!1),d()};document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",d,!1)}else if(document.attachEvent){var b=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",b),d())};document.attachEvent("onreadystatechange",b),window.attachEvent("onload",d);var e=!1;try{e=window.frameElement}catch(f){}if(document.documentElement.doScroll&&e){var g=function(){if(0!==c.length){try{document.documentElement.doScroll("left")}catch(a){return setTimeout(g,1),void 0}d()}};g()}}};window.onDomReadyIdentifierLogger=function(a){c.push(a),"complete"==document.readyState?d():b||(e(),b=!0)}}}();var defaults=window.FrontMonitorOptions||{};defaults.custom_parameter&&"object"==typeof defaults.custom_parameter&&defaults.custom_parameter.length&&(defaults.custom_parameter=defaults.custom_parameter.join(" | "));var Config={initialTime:defaults.initialTime||(new Date).getTime(),serviceUrl:defaults.baseServiceUrl+"/problem/create",logErrorsToConsole:defaults.logConsole||!0,application:defaults.application,uow:defaults.uow||null,custom_parameter:defaults.custom_parameter||null,ready:!1,version:FrontMonitorVersion},trackedErrors=[];setWindowOnError();var overrideData=defaults.override;if(overrideData){overrideData=overrideData.split(",");for(var i in override)overrideData[i]=overrideData[i].trim()}return Config.overrideFunctions=overrideData,window.onDomReadyIdentifierLogger(function(){Config.ready=!0,setWindowOnError();for(var a in Config.overrideFunctions)override(Config.overrideFunctions[a]);window.jQuery&&(Config.jQuery_fn_on_original=Config.jQuery_fn_on_original||jQuery.fn.on,jQuery.fn.on=function(){for(var a=Array.prototype.slice.call(arguments),b=4;--b>-1&&"function"!=typeof a[b];);return-1===b?Config.jQuery_fn_on_original.apply(this,arguments):(a[b]=function(a){return function(){var b=Array.prototype.slice.call(arguments);try{a.apply(this,arguments)}catch(c){captureException(b,c)}}}(a[b]),Config.jQuery_fn_on_original.apply(this,a))}),trackAndResetErrors()}),{captureException:captureException,setCustomParameter:setCustomParameter,logError:logError,getConfig:getConfig,logXHRError:logXHRError}}}();